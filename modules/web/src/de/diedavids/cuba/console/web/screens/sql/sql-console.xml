<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://caption"
        class="de.diedavids.cuba.console.web.screens.sql.SqlConsole"
        messagesPack="de.diedavids.cuba.console.web.screens.sql">
    <actions>
        <action id="runSqlConsoleAction"
                caption="msg://runConsole"
                icon="icons/run.png"
                invoke="runSqlConsole"
                shortcut="SHIFT-ENTER"/>
        <action id="clearSqlConsoleAction"
                icon="icons/erase.png"
                invoke="clearSqlConsole"/>


        <action id="maximizeConsoleAction"
                icon="font-icon:EXPAND"
                invoke="maximizeConsole"/>
        <action id="minimizeConsoleAction"
                icon="font-icon:COMPRESS"
                invoke="minimizeConsole"/>
        <action id="maximizeConsoleResultAction"
                icon="font-icon:EXPAND"
                invoke="maximizeConsoleResult"/>
        <action id="minimizeConsoleResultAction"
                icon="font-icon:COMPRESS"
                invoke="minimizeConsoleResult"/>
        <action id="clearConsoleResultAction"
                icon="icons/erase.png"
                invoke="clearConsoleResult"/>
        <action id="downloadConsoleResultAction"
                caption="msg://downloadResult"
                icon="icons/download.png"
                invoke="downloadConsoleResult"/>
    </actions>
    <dialogMode height="600"
                width="800"/>
    <layout>
        <split id="consoleResultSplitter"
               height="100%"
               orientation="vertical"
               width="100%">
            <vbox id="consoleVBox"
                  height="100%"
                  margin="true"
                  spacing="true">
                <tabSheet id="tabSheet"
                          height="100%">
                    <tab id="fileUploadTab"
                         caption="Upload"
                         expand="dropZone"
                         margin="true,false,true,false"
                         spacing="true">
                        <buttonsPanel>
                            <upload id="consoleFileUploadBtn"
                                    accept=".groovy"
                                    showFileName="true"
                                    dropZone="dropZone"
                                    showClearButton="true"
                                    clearButtonIcon="icons/erase.png"
                                    clearButtonCaption=""
                                    uploadButtonCaption="msg://uploadBtnCaption"
                                    uploadButtonDescription="msg://uploadBtnDescription"
                                    uploadButtonIcon="icons/upload.png"/>
                        </buttonsPanel>
                        <vbox id="dropZone"
                              spacing="true"
                              stylename="cuba-static-drop-zone">
                            <label align="MIDDLE_CENTER"
                                   stylename="cuba-upload-dropzone-description"
                                   value="Drop file here..."/>
                        </vbox>
                    </tab>


                    <tab id="sqlConsoleTab"
                         caption="SQL Console"
                         expand="sqlConsole"
                         margin="true,false,true,false"
                         spacing="true">
                        <hbox spacing="true"
                              width="100%">
                            <hbox>
                                <buttonsPanel>
                                    <button id="sqlRunBtn"
                                            action="runSqlConsoleAction"/>
                                    <button id="sqlClearBtn"
                                            action="clearSqlConsoleAction"/>
                                </buttonsPanel>
                            </hbox>
                            <hbox align="TOP_RIGHT">
                                <buttonsPanel>
                                    <button id="maximizeSqlConsoleBtn"
                                            action="maximizeConsoleAction"/>
                                    <button id="minimizeSqlConsoleBtn"
                                            action="minimizeConsoleAction"/>
                                </buttonsPanel>
                            </hbox>
                        </hbox>
                        <sourceCodeEditor id="sqlConsole"
                                          mode="SQL"
                                          width="100%"/>
                    </tab>
                </tabSheet>
            </vbox>
            <vbox id="consoleResultVBox"
                  expand="consoleResultTabSheet"
                  height="100%"
                  margin="true"
                  spacing="true">
                <hbox spacing="true"
                      width="100%">
                    <hbox>
                        <buttonsPanel>
                            <button id="clearResultBtn"
                                    action="clearConsoleResultAction"/>
                        </buttonsPanel>
                    </hbox>
                    <hbox align="TOP_RIGHT">
                        <buttonsPanel>
                            <button id="maximizeConsoleResultBtn"
                                    action="maximizeConsoleResultAction"/>
                            <button id="minimizeConsoleResultBtn"
                                    action="minimizeConsoleResultAction"/>
                        </buttonsPanel>
                    </hbox>
                </hbox>
                <tabSheet id="consoleResultTabSheet">
                    <tab id="consoleResultTabResult"
                         caption="Result"
                         margin="true,false,true,false"
                         spacing="true">
                        <vbox id="resultTableBox"/>
                    </tab>

                </tabSheet>
                <hbox>
                    <buttonsPanel>
                        <button id="downloadResultBtn"
                                action="downloadConsoleResultAction"/>
                    </buttonsPanel>
                </hbox>
            </vbox>
        </split>
    </layout>
</window>
